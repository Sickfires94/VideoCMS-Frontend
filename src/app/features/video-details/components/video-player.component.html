<div class="relative w-full max-w-4xl mx-auto bg-black rounded-lg overflow-hidden shadow-lg">
  <video
    #videoElement
    controls
    class="block w-full h-auto"
    [src]="videoUrl"
    (loadedmetadata)="onLoadedMetadata($event)"
    (canplay)="onCanPlay($event)"
    (waiting)="onWaiting($event)"
    (playing)="onPlaying($event)"  (pause)="onPause($event)"
    (ended)="onEnded($event)"
    (error)="onError($event)"
    autoplay
    preload="metadata"
  >
    Your browser does not support the video tag.
  </video>

  <div *ngIf="isLoading"
       class="absolute inset-0 bg-black bg-opacity-70 flex flex-col justify-center items-center text-white text-lg z-10">
    <div class="border-4 border-gray-300 border-t-white rounded-full w-10 h-10 animate-spin mb-2"></div>
    <span>Buffering...</span>
  </div>

  <!-- <div *ngIf="!isLoading && videoDuration !== 'Error'"
       class="absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm z-50">
    Duration: {{ videoDuration }}
  </div> -->

  <div *ngIf="!isLoading && videoDuration === 'Error'"
       class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-700 bg-opacity-70 text-white p-4 rounded-lg text-lg text-center z-50">
    Failed to load video duration.
  </div>

  <div *ngIf="!isReadyToPlay && !isLoading && videoUrl && videoDuration !== 'Error'"
       class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-800 bg-opacity-70 text-white p-4 rounded-lg text-lg text-center z-50">
    Video not ready.
  </div>
</div>