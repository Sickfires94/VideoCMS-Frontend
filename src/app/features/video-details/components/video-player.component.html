<div class="relative w-full max-w-4xl mx-auto bg-black rounded-lg overflow-hidden shadow-lg">
  <!-- VIDEO ELEMENT -->
  <video
    #videoElement
    controls
    class="block w-full h-auto bg-black z-10"
    [src]="videoUrl"
    (loadedmetadata)="onLoadedMetadata($event)"
    (canplay)="onCanPlay($event)"
    (waiting)="onWaiting($event)"
    (playing)="onPlaying($event)"
    (pause)="onPause($event)"
    (ended)="onEnded($event)"
    (error)="onError($event)"
    autoplay
    preload="metadata"
  >
    Your browser does not support the video tag.
  </video>

  <!-- BUFFERING INDICATOR -->
  <div *ngIf="isLoading"
    class="absolute inset-0 z-20 flex items-center justify-center pointer-events-none">
      <div class="bg-black bg-opacity-60 rounded-lg px-4 py-2 flex flex-col items-center pointer-events-none">
        <div class="animate-spin border-4 border-gray-300 border-t-white rounded-full w-10 h-10 mb-2"></div>
        <span class="text-white text-sm font-medium">Buffering...</span>
      </div>
  </div>

  <!-- ERROR MESSAGE
  <div *ngIf="!isLoading && videoDuration === 'Error'"
       class="absolute inset-0 flex items-center justify-center bg-red-700 bg-opacity-90 text-white text-center px-6 py-4 z-30">
    <p class="text-lg font-semibold">⚠️ Failed to load video duration.</p>
  </div> -->

  <!-- VIDEO NOT READY MESSAGE -->
  <div *ngIf="!isReadyToPlay && !isLoading && videoUrl && videoDuration !== 'Error'"
       class="absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-80 text-white text-center px-6 py-4 z-30">
    <p class="text-lg font-semibold">⏳ Preparing your video...</p>
  </div>

  <!-- OPTIONAL: DURATION DISPLAY -->
  <!-- <div *ngIf="!isLoading && videoDuration !== 'Error'"
       class="absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-sm z-10">
    ⏱ {{ videoDuration }}
  </div> -->
</div>